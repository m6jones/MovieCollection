<!doctype html>
<html>
  <head>
    <script src="lib/angular.min.js"></script>
    <link href="lib/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <script src="MovieCollection.js"></script>
  </head>
  <body>
    <div ng-app="MovieCollectionApp">
      <table class="table table-striped table-hover"
             ng-keydown="movieList.key($event);"
             ng-controller="movieListController as movieList"
      >
        <thead>
          <tr>
            <th>Title</th>
            <th>Year</th>
            <th>Genre</th>
            <th></th>
          </tr>
        </thead>
        <tbody class="" >
          <tr ng-repeat="movie in movieList.movies" 
              ng-click="movieList.select($index)" 
              ng-class="{active: movieList.isSelected($index)}">
            <td>{{movie.title}}</td>
            <td>{{movie.year}}</td>
            <td>{{movie.genre}}</td>
            <td>
              <form ng-submit="movieList.del($index)">
                <input ng-focus="movieList.select($index)"   
                       focus-me="movieList.isSelected($index)"
                       class="btn-primary" 
                       type="submit" 
                       value="-" />
              </form>
            </td>
          </tr>
        </tbody>
        <tfoot>
          <form ng-submit="movieList.add();" accessible-form>
          <tr ng-click="movieList.select(movieList.length());" ng-class="{active: movieList.isSelected(movieList.length())}">
            <td>
              <input type="text" focus-me="movieList.isSelected(movieList.length())" ng-focus="movieList.select(movieList.length())" ng-model="movieList.title"  size="25" placeholder="Title">
            </td>
            <td>
              <input type="text" ng-focus="movieList.select(movieList.length())" ng-model="movieList.year"  size="25" placeholder="Year">
            </td>
            <td>
              <input type="text" ng-focus="movieList.select(movieList.length())" ng-model="movieList.genre"  size="25" placeholder="Genre">
            </td>
            <td>
              <input class="btn-primary" ng-focus="movieList.select(movieList.length())" type="submit" value="+" />
            </td>
          </tr>
          </form>
        </tfoot>
      </table>
    </div>
  </body>
</html>